


<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>MockAPI</title>

  <style>
    div {
    border: 2px solid green;
    padding: 5px;
    margin: 5px;
  } 
  

</style>

</head>

<body>
  <a href="" onclick="homeFunction(true)">Hemma</a> <a href="" onclick="homeFunction(false)">GÃ¥r ut</a> 
  <div id="datadiv"></div>

  <script language="javascript">

    const datadiv = document.getElementById('datadiv');

    const uri = 'https://5cd130afd4a78300147be593.mockapi.io/Home';
    fetch(uri)
      .then((resp) => resp.json())
      .then(function (datas) 
      {
        return datas.map(function (data) 
        {
            let divtag = document.createElement('div'); 
            divtag.innerHTML = `${data.name} - ${data.isHome}`;
            datadiv.appendChild(divtag);
        })       
      });


      function homeFunction(isHomeNow)
      {
        var temp = Math.floor((Math.random() * 10) + 15);
        var data = {name: "Erik", isHome: isHomeNow}

        fetch(uri, 
        {
          method: 'post', 
          headers:
          {
            'Accept' : 'application/json, text/plain, */*',
            'Content-Type' : 'application/json'
          },
          body: JSON.stringify(data)
        }).then(res => res.json())
        .then(res => console.log(res))
        }
  </script>
</body>
</html>

